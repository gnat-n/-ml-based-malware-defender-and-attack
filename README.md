# Instructions for running:
Pickle File is in google drive (https://drive.google.com/file/d/1SQ3ECf8cORC2tyyho9b6NXCtgNh8yJb2/view?usp=sharing)
Get model from google drive, put pickle file (NES_MK1.pkl) of the model into defender/models

## cd to the project folder
1. docker build -t team2 .
2. docker run -itp 8080:8080 --memory=1.0g --cpus=1 team2

## In a new command window, cd to docker location
### To Test:

docker pull sonjoykp/ml-based-malware-defender:team2
docker run -itp 8080:8080 --memory=1.0g --cpus=1 sonjoykp/ml-based-malware-defender

python -m test -m [FILENAME].zip -b C:\Windows\System32\

curl -XPOST --data-binary @/Users/skpaul/mac-tamu/dataset/dataset-by-professor/datasets-2/gw1/0012 http://127.0.0.1:8080/ -H "Content-Type: application/octet-stream"

curl -XPOST --data-binary @/Users/skpaul/mac-tamu/dataset/dataset-by-professor/datasets-2/gw6/0023 http://127.0.0.1:8080/ -H "Content-Type: application/octet-stream"
curl -XPOST --data-binary @/Users/skpaul/mac-tamu/malware-dataset/patching/0ca4616a1bbea85344c204b7b099bfb3cdfec68c.bin.patched http://127.0.0.1:8080/ -H "Content-Type: application/octet-stream"

/usr/local/bin/python3 -m test -m /Users/skpaul/mac-tamu/dataset/dataset-by-professor/datasets/mw -b /Users/skpaul/mac-tamu/dataset/dataset-by-professor/datasets/gw   


curl -XPOST --data-binary @/Users/skpaul/mac-tamu/malware-dataset/Defense/benign-folder/python-3.6.8.exe http://127.0.0.1:8080/ -H "Content-Type: application/octet-stream"


Attack Testing:

/usr/local/bin/python3 -m test -m /Users/skpaul/mac-tamu/malware-dataset/Attack/evade1 -b /Users/skpaul/mac-tamu/malware-dataset/Attack/benign-folder


# Docker Images from Other Teams

Team1:
docker tag malware-defender:team1 sonjoykp/ml-based-malware-defender:team1
docker push sonjoykp/ml-based-malware-defender:team1
docker pull sonjoykp/ml-based-malware-defender:team1
